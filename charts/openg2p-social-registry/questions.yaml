questions:
- variable: global.socialRegistryHostname
  description: Hostname to access Social Registry
  type: string
  label: Hostname

- variable: global.keycloakBaseUrl
  description: Keycloak Base Url used in all components
  type: string
  label: Keycloak Base URL

- variable: mail.enabled
  description: This installs Mail server for relaying SMTP requests to preferred backend.
  type: boolean
  label: Install Mail SMTP Server?

- variable: odk-central.enabled
  description: This installs ODK Central.
  type: boolean
  label: Install ODK Central?

- variable: minio.enabled
  description: This installs Minio for document store.
  type: boolean
  label: Install Minio?

- variable: opensearch.enabled
  description: This installs OpenSearch for logging and reporting
  type: boolean
  label: Install OpenSearch?

- variable: keymanager.enabled
  description: This installs Keymanager for managing Keys for Encrpytion and Signatures
  type: boolean
  label: Install Keymanager?

- variable: reporting.enabled
  description: This installs Reporting Framework for that stream DB data to OpenSearch for Dashboards
  type: boolean
  label: Install Reporting Framework?

- variable: reporting-init.enabled
  description: This initializes Reporting Connectors for Social Registry
  type: boolean
  label: Initialize Reporting Connectors (reporting-init)?

- variable: loggingFlow.enabled
  description: This will allow Fluentd to capture logs into OpenSearch.
  type: boolean
  label: Fluentd Logs Flow?

- variable: global.socialRegistryAuthClientId
  description: OIDC Client ID for Social Registry
  type: string
  label: OIDC Client ID

- variable: global.socialRegistryAuthClientSecret
  description: OIDC Client Secret for Social Registry
  type: string
  label: OIDC Client Secret

# Mail Settings
- variable: global.socialRegistryMailInstallationName
  description: |-
    Edit this only if you want to reuse existing Mail Server Installation.
    Else enable Mail Server Installation from "Questions".
  type: reference_service
  label: Existing Mail Server Installation Name
  group: Mail Settings
  show_if: "mail.enabled=false"

# ODK Central Settings
- variable: global.odkHostname
  description: Hostname for ODK Central
  type: string
  label: ODK Central Hostname
  group: ODK Central Settings

- variable: odk-central.odk-central-backend.envVars.OIDC_CLIENT_ID
  description: OIDC Client ID for ODK Central login
  type: string
  label: OIDC Client ID
  group: ODK Central Settings
  show_if: "odk-central.enabled=true"

- variable: odk-central.odk-central-backend.envVars.OIDC_CLIENT_SECRET
  description: OIDC Client Secret for ODK Central login
  type: string
  label: OIDC Client Secret
  group: ODK Central Settings
  show_if: "odk-central.enabled=true"

# Minio Settings
- variable: global.minioHostname
  description: Hostname for Minio Console
  type: string
  label: Minio Console Hostname
  group: Minio Settings
  show_if: "minio.enabled=true"

- variable: minio.oidcClientId
  description: OIDC Client ID for Minio Console login
  type: string
  label: OIDC Client ID
  group: Minio Settings
  show_if: "minio.enabled=true"

- variable: minio.oidcClientSecret
  description: OIDC Client Secret for Minio Console login
  type: string
  label: OIDC Client Secret
  group: Minio Settings
  show_if: "minio.enabled=true"

# OpenSearch Settings
- variable: global.socialRegistryOpensearchInstallationName
  description: |-
    Edit this only if you want to reuse existing OpenSearch Installation.
    Else enable OpenSearch Installation from "Questions".
  type: reference_service
  label: Existing OpenSearch Installation Name
  group: OpenSearch Settings
  show_if: "opensearch.enabled=false"

- variable: global.opensearchHostname
  description: Hostname for OpenSearch Dashboards
  type: string
  label: OpenSearch Dashboards Hostname
  group: OpenSearch Settings

- variable: opensearch.oidcClientId
  description: OIDC Client ID for OpenSearch login
  type: string
  label: OIDC Client ID
  group: OpenSearch Settings
  show_if: "opensearch.enabled=true"

- variable: opensearch.oidcClientSecret
  description: OIDC Client Secret for OpenSearch login
  type: string
  label: OIDC Client Secret
  group: OpenSearch Settings
  show_if: "opensearch.enabled=true"

- variable: opensearch.loggingOutput.enabled
  description: This will allow Fluentd to send logs into this OpenSearch.
  type: boolean
  label: Fluentd Logs Output?
  group: OpenSearch Settings
  show_if: "opensearch.enabled=true"

# Keymanager
- variable: global.socialRegistryKeymanagerInstallationName
  description: |-
    Edit this only if you want to reuse existing Keymanager Installation.
    Else enable Keymanager Installation from "General Settings".
  type: reference_service
  label: Existing Keymanager Installation Name
  group: Keymanager Settings
  show_if: "keymanager.enabled=false"

- variable: global.keymanagerHostname
  description: Hostname under which Keymanager should be accessible
  type: string
  label: Keymanager Hostname
  group: Keymanager Settings

- variable: keymanager.springConfig.profile
  type: string
  label: Spring Config Profile
  group: Keymanager Settings
  show_if: "keymanager.enabled=true"

- variable: keymanager.springConfig.names
  type: string
  label: Spring Config Names
  group: Keymanager Settings
  show_if: "keymanager.enabled=true"

- variable: keymanager.springConfig.gitRepo.enabled
  description: Enables download of configs from Git repo.
  type: boolean
  label: Spring Config Git Enabled
  group: Keymanager Settings
  show_if: "keymanager.enabled=true"
  show_subquestion_if: true
  subquestions:
  - variable: keymanager.springConfig.gitRepo.repoUrl
    description: |-
      Repo Url for remote Git repo containing configs.
      This url should include username password if required.
    type: string
    label: Spring Config Git Repo Url
    group: Keymanager Settings

  - variable: keymanager.springConfig.gitRepo.branch
    description: Branch of remote Git repo containing configs.
    type: string
    label: Spring Config Git Repo Branch
    group: Keymanager Settings

- variable: keymanager.springConfig.rawConfig
  description: |-
    If git-based config is disabled, the complete application.properties can be
    directly supplied here.
  type: multiline
  label: Spring Config application properties.
  group: Keymanager Settings
  show_if: "keymanager.enabled=true&&keymanager.springConfig.gitRepo.enabled=false"

- variable: keymanager.envVars.auth_server_admin_allowed_audience
  description: |-
    List of Keycloak Client ID allowed to call this keymanager's APIs.
    Do not edit this parameter unless required.
  type: string
  label: Allowed Keycloak Client IDs.
  group: Keymanager Advanced Settings
  show_if: "keymanager.enabled=true"

# Reporting
- variable: global.reportingInstallationName
  description: |-
    If reporting is disabled with this installation, and if an installation of reporting
    already exists, give the name of existing installation here.
  type: string
  label: Reporting Installation Name
  group: Reporting Settings
  show_if: "reporting.enabled=false&&reporting-init.enabled=true"

- variable: reporting.kafka.enabled
  description: This installs Kafka along with the current reporting
  type: boolean
  label: Install Kafka?
  group: Reporting Settings
  show_if: "reporting.enabled=true"

- variable: reporting.kafkaUi.enabled
  description: This installs Kafka UI along with Kafka
  type: boolean
  label: Install Kafka UI?
  group: Reporting Settings
  show_if: "reporting.enabled=true&&reporting.kafka.enabled=true"

# Reporting Kafka
- variable: global.reportingKafkaHostname
  description: Hostname with which Kafka UI should be accessible
  type: string
  label: Kafka UI Hostname
  group: Reporting Settings
  show_if: "reporting.enabled=true&&reporting.kafka.enabled=true&&reporting.kafkaUi.enabled=true"

- variable: reporting.kafkaUi.oidcClientId
  description: OIDC Client ID for Kafka UI login
  type: string
  label: OIDC Client ID
  group: Reporting Settings
  show_if: "reporting.enabled=true&&reporting.kafka.enabled=true&&reporting.kafkaUi.enabled=true"

- variable: reporting.kafkaUi.oidcClientSecret
  description: OIDC Client Secret for Kafka UI login
  type: string
  label: OIDC Client Secret
  group: Reporting Settings
  show_if: "reporting.enabled=true&&reporting.kafka.enabled=true&&reporting.kafkaUi.enabled=true"

# Reporting Init
- variable: reporting-init.gitConfig.enabled
  description: This enables downloading connectors and other configuration from Git.
  type: boolean
  label: Download config from Git?
  group: Reporting Settings
  show_if: "reporting-init.enabled=true"

- variable: reporting-init.gitConfig.repoUrl
  description: Git Repository to download configs from. This must include username password if any.
  type: string
  label: Git Config Repository URL
  group: Reporting Settings
  show_if: "reporting-init.enabled=true&&reporting-init.gitConfig.enabled=true"

- variable: reporting-init.gitConfig.branch
  description: Git Repository Branch to download configs from.
  type: string
  label: Git Config Repository Branch
  group: Reporting Settings
  show_if: "reporting-init.enabled=true&&reporting-init.gitConfig.enabled=true"

- variable: reporting-init.gitConfig.subDir
  description: Subdirectory inside the Git Repository to take configs from.
  type: string
  label: Git Config Repository Subdirectory
  group: Reporting Settings
  show_if: "reporting-init.enabled=true&&reporting-init.gitConfig.enabled=true"
